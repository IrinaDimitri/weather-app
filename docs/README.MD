# Weather API ‚òÄÔ∏èüåßÔ∏è‚õÖ

Spring Boot –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ –æ –ø–æ–≥–æ–¥–µ.  
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç PostgreSQL, Open-Meteo API, Swagger –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ Docker.

---
## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
üì¶ project-root
‚îú‚îÄ‚îÄ üê≥ docker/
‚îÇ   ‚îú‚îÄ‚îÄ üêã Dockerfile
‚îÇ   ‚îî‚îÄ‚îÄ üêô docker-compose.yml
‚îú‚îÄ‚îÄ üìö docs/
‚îÇ   ‚îú‚îÄ‚îÄ üìù README.md
‚îÇ   ‚îî‚îÄ‚îÄ üöÄ Weather-app.postman_collection.json
‚îú‚îÄ‚îÄ üîí nginx/
‚îÇ   ‚îú‚îÄ‚îÄ üìú logs/
‚îÇ   ‚îî‚îÄ‚îÄ ‚öôÔ∏è nginx.conf
‚îú‚îÄ‚îÄ üíª src/
‚îÇ   ‚îú‚îÄ‚îÄ üìú logs/weather-app.log
‚îÇ   ‚îî‚îÄ‚îÄ ‚òï main/java/com/example/
‚îÇ       ‚îú‚îÄ‚îÄ üèóÔ∏è WeatherApp.java
‚îÇ       ‚îú‚îÄ‚îÄ üéÆ WeatherController.java
‚îÇ       ‚îú‚îÄ‚îÄ ‚öôÔ∏è config/SwaggerConfig.java
‚îÇ       ‚îú‚îÄ‚îÄ üß© model/Weather.java
‚îÇ       ‚îú‚îÄ‚îÄ üóÑÔ∏è repository/WeatherRepository.java
‚îÇ       ‚îî‚îÄ‚îÄ ‚ö° service/WeatherService.java
‚îú‚îÄ‚îÄ ‚öôÔ∏è application.properties
‚îú‚îÄ‚îÄ üóÉÔ∏è data.sql
‚îî‚îÄ‚îÄ üì¶ pom.xml
```

## ‚öôÔ∏è –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Java –≤–µ—Ä—Å–∏–∏ 17+.
- Docker –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).
- Maven ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–±–æ—Ä–∫–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏.
- PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ —á–µ—Ä–µ–∑ Docker).

### –°–±–æ—Ä–∫–∞ JAR
    mvn clean install
    mvn clean package
    docker-compose -f docker/docker-compose.yml down
    docker-compose -f docker/docker-compose.yml up -d --build

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å–∞–º: http://localhost:8080 –ò —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏ http://localhost/

# üåê –î–æ—Å—Ç—É–ø–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

## üìë Swagger UI

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å–∞–º –ø–æ—Å–ª–µ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞:
- http://localhost/swagger-ui/index.html
- http://localhost:8080/swagger-ui/index.html

## üß™ –í–∞—Ä–∏–∞–Ω—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
1. –í Postman. –§–∞–π–ª –∫–æ–ª–ª–µ–∫—Ü–∏–∏: docs/Weather-app.postman_collection.json
2. –í –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ –ø—Ä—è–º—ã–º —Å—Å—ã–ª–∫–∞–º http://localhost/{{method}}
3. –ù–∞–ø—Ä—è–º—É—é –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —á–µ—Ä–µ–∑ curl http://localhost/{{method}}

## GET /ping  
*–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª: –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞.*

### –ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤:
| –ö–æ–¥   | –û–ø–∏—Å–∞–Ω–∏–µ      | Content-Type   | –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞                                           |
|-------|---------------|----------------|---------------------------------------------------------|
| 200   | –°–µ—Ä–≤–∏—Å –æ—Ç–≤–µ—á–∞–µ—Ç| text/html      | `<html><body><h1>PONG</h1></body></html>`             |

### –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
| –°–ø–æ—Å–æ–±    | –ö–æ–º–∞–Ω–¥–∞ / URL                      |
|-----------|------------------------------------|
| Terminal  | `curl http://localhost/ping`       |
| REST API  | `GET http://localhost/ping`        |
| Browser   | `http://localhost/ping`            |

---

## GET /health  
*–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞.*

### –ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤:
| –ö–æ–¥   | –û–ø–∏—Å–∞–Ω–∏–µ    | Content-Type   | –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞                                     |
|-------|-------------|----------------|---------------------------------------------------|
| 200   | –°–µ—Ä–≤–∏—Å –∑–¥–æ—Ä–æ–≤| application/json| `{ "status": "HEALTHY" }`                          |

### –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
| –°–ø–æ—Å–æ–±    | –ö–æ–º–∞–Ω–¥–∞ / URL                       |
|-----------|-------------------------------------|
| Terminal  | `curl http://localhost/health`      |
| REST API  | `GET http://localhost/health`       |
| Browser   | `http://localhost/health`           |

---

## GET /list  
*–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª: –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –≥–æ—Ä–æ–¥–æ–≤ –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä.*

### –ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤:
| –ö–æ–¥   | –û–ø–∏—Å–∞–Ω–∏–µ                      | Content-Type   | –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞                                                               |
|-------|-------------------------------|----------------|----------------------------------------------------------------------------|
| 200   | –°–ø–∏—Å–æ–∫ —É—Å–ø–µ—à–Ω–æ –≤–æ–∑–≤—Ä–∞—â—ë–Ω       | text/html      | `<html><body><ul><li>Paris: 18¬∞C</li><li>Rome: 25¬∞C</li></ul></body></html>` |
| 204   | –°–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤ –ø—É—Å—Ç            | text/html      | `<html><body><h2>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2><p>–°–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤ —Å –ø–æ–≥–æ–¥–æ–π –ø–æ–∫–∞ –ø—É—Å—Ç.</p></body></html>` |

---

### –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
| –°–ø–æ—Å–æ–±    | –ö–æ–º–∞–Ω–¥–∞ / URL                     |
|-----------|-----------------------------------|
| Terminal  | `curl http://localhost/list`      |
| REST API  | `GET http://localhost/list`       |
| Browser   | `http://localhost/list`           |

---

## POST /add  
*–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–≥–æ–¥–µ –¥–ª—è –≥–æ—Ä–æ–¥–∞.*

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
| –ü–∞—Ä–∞–º–µ—Ç—Ä     | –¢–∏–ø      | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ                             |
|--------------|----------|--------------|--------------------------------------|
| `city`       | String   | ‚úÖ           | –ù–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ (–ª–∞—Ç–∏–Ω–∏—Ü–∞, –¥–µ—Ñ–∏—Å—ã)   |
| `temperature`| Integer  | ‚ùå           | –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ ¬∞C (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 20)   |
| `forceUpdate`| Boolean  | ‚ùå           | –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ            |

### –ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤:
| –ö–æ–¥   | –û–ø–∏—Å–∞–Ω–∏–µ                              | Content-Type   | –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞                                                                                                 |
|-------|---------------------------------------|----------------|---------------------------------------------------------------------------------------------------------------|
| 200   | –ì–æ—Ä–æ–¥ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω –∏–ª–∏ –æ–±–Ω–æ–≤–ª—ë–Ω   | text/html      | `<html><body><h2>–£—Å–ø–µ—Ö!</h2><p>–ì–æ—Ä–æ–¥ "Paris" –¥–æ–±–∞–≤–ª–µ–Ω —Å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π 20¬∞C.</p></body></html>`                   |
| 400   | –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã                 | text/html      | `<html><body><h2>–û—à–∏–±–∫–∞!</h2><p>–ü–∞—Ä–∞–º–µ—Ç—Ä 'city' –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É—Å—Ç—ã–º.</p></body></html>`                           |
| 409   | –ì–æ—Ä–æ–¥ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–±–µ–∑ forceUpdate)| text/html      | `<html><body><h2>–û—à–∏–±–∫–∞!</h2><p>–ì–æ—Ä–æ–¥ "London" —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.</p></body></html>`                    |
| 500   | –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞             | text/html      | `<html><body><h2>–û—à–∏–±–∫–∞!</h2><p>–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö.</p></body></html>`                 |

---

### –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
| –°—Ü–µ–Ω–∞—Ä–∏–π             | –ö–æ–º–∞–Ω–¥–∞                                                        |
|----------------------|----------------------------------------------------------------|
| –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ Terminal      | `curl -X POST "http://localhost/add?city=Berlin"`              |
| –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ Terminal      | `curl -X POST "http://localhost/add?city=Berlin&forceUpdate=true"` |
| REST API              | `POST http://localhost/add?city=Berlin`                        |
| Browser               | `http://localhost/add?city=Berlin&forceUpdate=true`            |

---

## POST /update  
*–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–≥–æ–¥–µ –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ API.*

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø    | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ                |
|----------|--------|--------------|-------------------------|
| `city`   | String | ‚ùå           | –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –≥–æ—Ä–æ–¥ |

### –ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤:
| –ö–æ–¥   | –û–ø–∏—Å–∞–Ω–∏–µ                            | Content-Type   | –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞                                                                                                  |
|-------|-------------------------------------|----------------|----------------------------------------------------------------------------------------------------------------|
| 200   | –î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω—ã            | text/html      | `<html><body><h2>–£—Å–ø–µ—Ö!</h2><p>–î–∞–Ω–Ω—ã–µ –æ –ø–æ–≥–æ–¥–µ –¥–ª—è –≥–æ—Ä–æ–¥–∞ "Berlin" —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω—ã.</p></body></html>`          |
| 404   | –ì–æ—Ä–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ               | text/html      | `<html><body><h2>–û—à–∏–±–∫–∞!</h2><p>–ì–æ—Ä–æ–¥ "MoonCity" –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.</p></body></html>`                      |
| 500   | –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞            | text/html      | `<html><body><h2>–û—à–∏–±–∫–∞!</h2><p>–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö.</p></body></html>`                |

---

### –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
| –°–ø–æ—Å–æ–±    | –ö–æ–º–∞–Ω–¥–∞ / URL                        |
|-----------|--------------------------------------|
| Terminal  | `curl http://localhost/update`       |
| REST API  | `GET http://localhost/update`        |
| Browser   | `http://localhost/update`            |

---

## DELETE /delete  
*–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª: —É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–≥–æ–¥–µ.*

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø      | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ                  | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è                          |
|----------|----------|--------------|---------------------------|-------------------------------------|
| `city`   | String   | ‚ùå           | –ù–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞           | –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å `all=true`    |
| `all`    | Boolean  | ‚ùå           | –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ        | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `all=true`             |

> **‚ÑπÔ∏è –ü—Ä–∞–≤–∏–ª–∞:**
> - –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–∫–∞–∑–∞–Ω —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä.
> - –ù–µ–ª—å–∑—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `city` –∏ `all=true`.

### –ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤:
| –ö–æ–¥   | –û–ø–∏—Å–∞–Ω–∏–µ                               | Content-Type   | –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞                                                                                                    |
|-------|----------------------------------------|----------------|------------------------------------------------------------------------------------------------------------------|
| 200   | –£—Å–ø–µ—à–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ                      | text/html      | `<html><body><h2>–£—Å–ø–µ—Ö!</h2><p>–ì–æ—Ä–æ–¥ "Rome" —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω.</p></body></html>`                                   |
| 400   | –ù–µ —É–∫–∞–∑–∞–Ω –≥–æ—Ä–æ–¥ –∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω all=true| text/html      | `<html><body><h2>–û—à–∏–±–∫–∞!</h2><p>–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å 'city' –∏–ª–∏ all=true.</p></body></html>`                      |
| 404   | –ì–æ—Ä–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω                        | text/html      | `<html><body><h2>–û—à–∏–±–∫–∞!</h2><p>–ì–æ—Ä–æ–¥ "Atlantis" –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.</p></body></html>`                      |
| 500   | –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞              | text/html      | `<html><body><h2>–û—à–∏–±–∫–∞!</h2><p>–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö.</p></body></html>`                                |

---

### –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
| –°—Ü–µ–Ω–∞—Ä–∏–π              | –ö–æ–º–∞–Ω–¥–∞                                                   |
|-----------------------|-----------------------------------------------------------|
| –£–¥–∞–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ Terminal        | `curl -X DELETE "http://localhost/delete?city=Berlin"`     |
| REST API              | `DELETE http://localhost/delete?city=Berlin`              |
| Browser               | `http://localhost/delete?city=Berlin`                     |
| –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö Terminal        | `curl -X DELETE "http://localhost/delete?all=true"`        |
| Browser (–≤—Å–µ –¥–∞–Ω–Ω—ã–µ)  | `http://localhost/delete?all=true`                         |


# –†–∞–±–æ—Ç–∞ —Å PostgreSQL –≤ Docker

*–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –±–∞–∑–æ–≤—ã—Ö SQL-–∫–æ–º–∞–Ω–¥.*

---

## 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL

### 1.1 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω

```bash
docker ps
```

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –∏–º–µ–Ω–µ–º `weather-postgres` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ.

### 1.2 –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞–ø—Ä—è–º—É—é –∫ PostgreSQL –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
docker exec -it weather-postgres psql -U postgres -d weather_db
```

–ï—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ, –ø–æ—è–≤–∏—Ç—Å—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ:

```
weather_db=#
```

### 1.3 –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ bash –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

1. –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
    ```bash
    docker exec -it weather-postgres bash
    ```

2. –ó–∞—Ç–µ–º –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PostgreSQL:
    ```bash
    psql -U postgres -d weather_db
    ```

---

## 2. –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### 2.1 –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü

```sql
\dt
```

### 2.2 –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã

```sql
\d weather
```

### 2.3 –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ `weather`

```sql
SELECT * FROM weather;
```

---

## 3. –ü—Ä–∏–º–µ—Ä—ã SQL-–∑–∞–ø—Ä–æ—Å–æ–≤

### 3.1 –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å

```sql
INSERT INTO weather (city, temperature, condition, created_at)
VALUES ('Kazan', 24.5, 'Sunny', NOW());
```

### 3.2 –£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É

```sql
DELETE FROM weather
WHERE id = 1;
```

### 3.3 –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ —É—Å–ª–æ–≤–∏—é

```sql
UPDATE weather
SET temperature = 27.0, condition = 'Cloudy'
WHERE city = 'Kazan';
```

### 3.4 –ù–∞–π—Ç–∏ –∑–∞–ø–∏—Å–∏ —Å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π –≤—ã—à–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è

```sql
SELECT * FROM weather
WHERE temperature > 25;
```

---

## 4. –í—ã—Ö–æ–¥

### 4.1 –í—ã–π—Ç–∏ –∏–∑ PostgreSQL

```sql
\q
```

### 4.2 –í—ã–π—Ç–∏ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
exit
```

---

## 5. –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ

–ï—Å–ª–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–∞–π–ª `data.sql`, —Ç–∞–±–ª–∏—Ü—ã –∏ –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `weather_db`.

–ü—Ä–æ–≤–µ—Ä—å –∏—Ö –Ω–∞–ª–∏—á–∏–µ —Å –ø–æ–º–æ—â—å—é:

```sql
\dt
SELECT * FROM weather;
```


# Weather App - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Open Weather

## üõ†Ô∏è –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

–í —Ä–∞–º–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–≥–æ–¥–µ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤–Ω–µ—à–Ω–µ–≥–æ API, —Ç–∞–∫–æ–≥–æ –∫–∞–∫ Open-Meteo. 

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:
- –°–∏—Å—Ç–µ–º–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∑–∞–¥–∞—á—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é.
- –ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—ë—Ç—Å—è –≤ —Ñ–∞–π–ª–µ **`application.properties`**, –≥–¥–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö.
  –ü—Ä–∏–º–µ—Ä:
  ```properties
  weather.update.interval=600000  # –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç
  ```

- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:
  - –í **WeatherService.java** –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–æ–≥–∏–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å –∑–∞–¥–∞–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@Scheduled`.
  - –ú–µ—Ç–æ–¥ `updateAllCities()` –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –¥–ª—è –≤—Å–µ—Ö –≥–æ—Ä–æ–¥–æ–≤, —Ö—Ä–∞–Ω—è—â–∏—Ö—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
  - –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, –∫–∞–∂–¥—ã–π –≥–æ—Ä–æ–¥ –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ `updateCityWeather()`, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ API Open-Meteo –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã.

## üìç –û—Ç–∫—É–¥–∞ –±–µ—Ä—É—Ç—Å—è –¥–∞–Ω–Ω—ã–µ
–î–∞–Ω–Ω—ã–µ –æ —Ç–µ–∫—É—â–µ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ –¥–ª—è –≥–æ—Ä–æ–¥–æ–≤ –±–µ—Ä—É—Ç—Å—è —á–µ—Ä–µ–∑ API **Open-Meteo**. –í **WeatherService.java** –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≥–æ—Ä–æ–¥–∞ –∑–∞—Ä–∞–Ω–µ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ –º–∞–ø–µ `CITIES`, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —à–∏—Ä–æ—Ç–µ –∏ –¥–æ–ª–≥–æ—Ç–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≥–æ—Ä–æ–¥–∞:

```java
private static final Map<String, double[]> CITIES = Map.of(
    "Berlin", new double[]{52.52, 13.41},
    "London", new double[]{51.51, -0.13},
    "Paris", new double[]{48.85, 2.35}
);
```

API –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
```java
String url = String.format("%s?latitude=%f&longitude=%f&current_weather=true", API_URL, latitude, longitude);
```
–ö–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç —Å–∏—Å—Ç–µ–º–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –¥–ª—è –≤—Å–µ—Ö –≥–æ—Ä–æ–¥–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

## üóÇÔ∏è –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ

–î–∞–Ω–Ω—ã–µ –æ –≥–æ—Ä–æ–¥–∞—Ö –∏ –∏—Ö —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞—Ö —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ Docker. –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –¥–∞–Ω–Ω—ã–µ –≥–æ—Ä–æ–¥–æ–≤ —Å–æ–∑–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç **`data.sql`**, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ **`src/main/resources`**.

–ü—Ä–∏–º–µ—Ä —Å–∫—Ä–∏–ø—Ç–∞ **`data.sql`**:
```sql
CREATE TABLE IF NOT EXISTS weather (
    city TEXT PRIMARY KEY,
    temperature INT
);

DELETE FROM weather;
INSERT INTO weather (city, temperature) VALUES 
  ('London', 20), 
  ('Paris', 15), 
  ('Moscow', 17);
```

# –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞

## üåê –ü—Ä–æ–∫—Å–∏ –∏ –ø–æ—Ä—Ç –≤ NGINX

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è NGINX –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Å–µ—Ä–≤–µ—Ä—É backend, –≥–¥–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. 

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ NGINX:
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è NGINX –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ **`nginx/nginx.conf`**.
- –ü—Ä–æ–∫—Å–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Ç–∞–∫, —á—Ç–æ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ **–ø–æ—Ä—Ç 80** (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π HTTP –ø–æ—Ä—Ç) –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ backend, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ **–ø–æ—Ä—Ç 8080**.
- –í —Å–ª—É—á–∞–µ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ **/ping** –∏–ª–∏ **/health**, –æ–Ω –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è backend, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —ç—Ç–∏ –º–∞—Ä—à—Ä—É—Ç—ã.

–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ NGINX:
```nginx
upstream backend {
    server weather-backend:8080;
}

server {
    listen 80;
    server_name localhost;

    location / {
        proxy_pass http://backend;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    location = /ping {
        proxy_pass http://backend/ping;
    }

    location = /health {
        proxy_pass http://backend/health;
    }

    location /swagger-ui/ {
        proxy_pass http://backend/swagger-ui/;
    }

    location /v3/api-docs {
        proxy_pass http://backend/v3/api-docs;
    }
}
```

### –î–µ—Ç–∞–ª–∏ —Ä–∞–±–æ—Ç—ã:
- –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ NGINX –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã, –ø–µ—Ä–µ–¥–∞–≤–∞—è –∏—Ö –Ω–∞ backend —Å–µ—Ä–≤–µ—Ä –ø–æ –∞–¥—Ä–µ—Å—É `weather-backend:8080`.
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫ `/ping` –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–∏—Å–∞, –∞ `/health` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞.

## üê≥ Docker

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Docker –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∏ –¥–µ–ø–ª–æ–π. –í –ø—Ä–æ–µ–∫—Ç–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
1. **Backend**: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å Spring Boot –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã.
2. **Postgres**: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö PostgreSQL –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–≥–æ–¥–µ.
3. **NGINX**: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ–º –¥–ª—è –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ backend.

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –æ–ø–∏—Å–∞–Ω—ã –≤ **`docker-compose.yml`** –∏ **`Dockerfile`**, –≥–¥–µ —É–∫–∞–∑–∞–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∏—Ö —Å–±–æ—Ä–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞.

## üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ Spring Boot. –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª **`/app/logs/weather-app.log`**, –∫–æ—Ç–æ—Ä—ã–π –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.

–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
```properties
logging.file.name=/app/logs/weather-app.log
```

## üöÄ GitHub Workflows

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–µ–ø–ª–æ–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º GitHub Actions. –í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ workflow –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º push –∏ –¥–µ–ø–ª–æ—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –æ–±–ª–∞–∫–æ.

### –ü—Ä–∏–º–µ—Ä workflow:
```yaml
name: Build and Deploy

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Set up Java
        uses: actions/setup-java@v2
        with:
          java-version: '17'
      - name: Build with Maven
        run: mvn clean install
      - name: Deploy to Docker
        run: docker-compose up --build
```


## üìú –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ NGINX

NGINX —Ç–∞–∫–∂–µ –≤–µ–¥—ë—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ö–æ–¥—è—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤. –§–∞–π–ª—ã –ª–æ–≥–æ–≤ –º–æ–Ω—Ç–∏—Ä—É—é—Ç—Å—è –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:

```
nginx/logs/
‚îú‚îÄ‚îÄ access.log  # —É—Å–ø–µ—à–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
‚îú‚îÄ‚îÄ error.log   # –æ—à–∏–±–∫–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–æ–∫—Å–∏
```

–≠—Ç–∏ –ª–æ–≥–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è:
- –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π –∏–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é backend;
- –∞–Ω–∞–ª–∏–∑–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤;
- –≤—ã—è–≤–ª–µ–Ω–∏—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö endpoint'–æ–≤ –∏–ª–∏ –ø–µ—Ä–∏–æ–¥–æ–≤ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏.

–ü—Ä–∏–º–µ—Ä—ã —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤ `access.log`:
```
127.0.0.1 - - [13/Jul/2025:12:00:01 +0000] "GET /ping HTTP/1.1" 200 32 "-" "curl/7.68.0"
127.0.0.1 - - [13/Jul/2025:12:01:01 +0000] "POST /add?city=Paris HTTP/1.1" 200 128 "-" "PostmanRuntime/7.32.0"
```

---

## üîÅ –î–µ—Ç–∞–ª–∏ —Ä–æ—É—Ç–∏–Ω–≥–∞ –∏ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è

–í—Å—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ NGINX. –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ç–∞–∫–æ–≤–∞:

| –ó–∞–ø—Ä–æ—Å (–Ω–∞ –ø–æ—Ä—Ç 80)        | –ü—Ä–æ–∫—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ backend         | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                          |
|---------------------------|----------------------------------|--------------------------------------|
| `/`                       | `http://backend/`               | –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å          |
| `/ping`                   | `http://backend/ping`           | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞           |
| `/health`                 | `http://backend/health`         | JSON-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏     |
| `/swagger-ui/`            | `http://backend/swagger-ui/`    | Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è                 |
| `/v3/api-docs`            | `http://backend/v3/api-docs`    | OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è                 |

–í—Å—ë —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –±–ª–∞–≥–æ–¥–∞—Ä—è —Å–ª–µ–¥—É—é—â–µ–π –¥–∏—Ä–µ–∫—Ç–∏–≤–µ –≤ `nginx.conf`:

```nginx
location / {
    proxy_pass http://backend;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
}
```

---

## üèóÔ∏è –ü—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏: —Ä–æ–ª–∏ –∫–ª—é—á–µ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤

| –§–∞–π–ª                            | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                        |
|--------------------------------|--------------------------------------------------------------------|
| `Dockerfile`                   | –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–±–æ—Ä–∫–µ backend-—Å–µ—Ä–≤–∏—Å–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ JAR-—Ñ–∞–π–ª–∞          |
| `docker-compose.yml`           | –ü–æ–¥–Ω–∏–º–∞–µ—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã: backend, Postgres, NGINX                   |
| `pom.xml`                      | –û–ø–∏—Å—ã–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –ø–ª–∞–≥–∏–Ω—ã –¥–ª—è Maven —Å–±–æ—Ä–∫–∏                  |
| `application.properties`       | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤–∫–ª—é—á–∞—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∏–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π    |
| `data.sql`                     | SQL-–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ                  |
| `nginx.conf`                   | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–∞ NGINX                                 |
| `WeatherApp.java`              | –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ Spring Boot                                           |
| `WeatherService.java`          | –û—Å–Ω–æ–≤–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∏ —Ä–∞–±–æ—Ç—ã —Å Open-Meteo API       |
| `WeatherController.java`       | –û–±—Ä–∞–±–æ—Ç–∫–∞ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤                                           |

---

## üèóÔ∏è –ü—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏ –∏ –ø–∞–ø–∫–∞ `/target`

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Maven** –∫–∞–∫ —Å–∏—Å—Ç–µ–º—É —Å–±–æ—Ä–∫–∏. –í –ø—Ä–æ—Ü–µ—Å—Å–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏ —É–ø–∞–∫–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç—Ç–∞–ø–æ–≤, –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —á–µ–≥–æ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –ø–∞–ø–∫–∞ `target`.

### ‚öôÔ∏è –ö–∞–∫ —Å–æ–∑–¥–∞—ë—Ç—Å—è `/target`

1. **–ö–æ–º–∞–Ω–¥–∞:**

    ```bash
    mvn clean install
    ```

    - `clean`: —É–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—É—é –ø–∞–ø–∫—É `target`, –µ—Å–ª–∏ –æ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
    - `install`: –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç, –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç—ã, —Å–æ–∑–¥–∞–µ—Ç `.jar` –∏ –∫–æ–ø–∏—Ä—É–µ—Ç –µ–≥–æ –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π Maven-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

2. **–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏:** Maven –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç –ø–∞–ø–∫—É `target/`, –≤ –∫–æ—Ç–æ—Ä–æ–π –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:
    - –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ (–≤ `classes/`)
    - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JAR (–Ω–∞–ø—Ä–∏–º–µ—Ä, `weather-app-1.0.0.jar`)
    - –í—Å–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–±–æ—Ä–∫–∏

### üîÑ –†–æ–ª—å `/target` –≤ Docker

–í `Dockerfile` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è JAR-—Ñ–∞–π–ª –∏–∑ `target/`:

```Dockerfile
COPY --from=builder /app/target/*.jar app.jar
```

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º:
- –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–±–æ—Ä–∫–∞ —á–µ—Ä–µ–∑ Maven –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ `builder`
- –ü–æ—Ç–æ–º –∏—Ç–æ–≥–æ–≤—ã–π `.jar` –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑

---
